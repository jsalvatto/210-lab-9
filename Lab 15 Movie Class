// COMSC-210 | Lab 15 | Joseph Salvatto

#include <iostream>
#include <string>
#include <iomanip>
#include <vector>
#include <algorithm>
#include <numeric>
#include <limits>
#include <fstream>
using namespace std;

    class Movie{
        private:
            string screenWriter;
            int year;
            string title;
        public:
            string getScreenWriter()    {return screenWriter;}
            void setScreenWriter(string sw) {screenWriter = sw;}
            int getYear()   {return year;}
            void setYear(int y) {year = y;}
            string getTitle()   {return title;}
            void setTitle(string t) {title = t;}
            
        void print(){
            cout<<"Movie: "<<getScreenWriter()<<endl;
            cout<< right << setw(25)<<"Year released: "<<getYear()<<endl;
            cout<< right << setw(25)<<"Screenwriter: "<<getTitle()<<endl;
        }
};
     
int main() {
   vector<Movie> movie_list;
   ifstream externalFile ("C:/Users/USER1/Downloads/input.txt");
    if(!externalFile.is_open()){
        cout<<"Error: Cannot open file."<<endl;
        return 1;
    }
   
    string sw;
    int y;
    string t;
   
    while (getline(externalFile, t)){
        externalFile>>y;
        externalFile.ignore();
        getline(externalFile, sw);
        
    Movie movie;
        movie.setTitle(t);
        movie.setYear(y);
        movie.setScreenWriter(sw);
        movie_list.push_back(movie);
    }
    
    externalFile.close();
    
    for(auto& movie : movie_list){
        movie.print();
        cout<<endl;
    }
    
return 0;
}


